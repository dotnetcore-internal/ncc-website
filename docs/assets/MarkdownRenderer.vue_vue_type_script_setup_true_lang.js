import{_ as m}from"./preload-helper.js";import{d,a5 as p,k as a,x as _,y,o as h,z as k,a6 as v,u as x,a7 as E}from"./vendor.js";import{u as L}from"./useEmitter.js";import{u as w}from"./uiStore.js";const M=d({__name:"MarkdownRenderer",props:{source:null,i18n:{type:Boolean,default:!1},fallbackLocale:{default:"en"},includeFileExtension:{type:Boolean,default:!0},fileExtension:{default:".md"},retryTimeout:null,redirectTo404:{type:Boolean,default:!0}},setup(u){const t=u;E();const r=L(),i=w(),o=p(null),l=a(()=>t.i18n?`.${i.locale}`:"");a(()=>t.i18n?`.${t.fallbackLocale}`:"");const c=a(()=>t.includeFileExtension?t.fileExtension:""),s=async(n,e,B=!1)=>{n.length===0?o.value="":(!e||e.length===0?e=l.value:e.startsWith(".")||(e=`.${e}`),m(()=>import("../../content/"+t.source+e+c.value),[]).then(f=>{o.value=f.default}).catch(()=>{}))};return _(async()=>{await s(t.source),r.on("toChangeLocale",async n=>{if(!t.i18n)return;const e=n;await s(t.source,e.locale)})}),y(()=>{r.off("toChangeLocale")}),(n,e)=>(h(),k(v(x(o)),{key:n.name}))}});export{M as _};

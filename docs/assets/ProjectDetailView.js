import{a3 as lt,f as n,d as it,k as g,o as i,a as r,g as c,e as h,u as o,a8 as bt,a0 as tt,j as vt,l as jt,x as yt,n as Pt,y as wt,z as et,a7 as $t,t as d,h as M,Z as w,G as Ct,F as S,a1 as V,b as st,M as Lt,a9 as xt,p as Mt,i as qt}from"./vendor.js";import{u as zt}from"./useEmitter.js";import{u as St}from"./uiStore.js";import{u as Vt}from"./projectStore.js";import{c as ot}from"./usePageToolkits.js";import{l as at,c as Bt,d as nt}from"./useProjectToolkits.js";import{B as Wt}from"./BodyBlock.js";import{T as Dt}from"./TitleBlock.js";import{_ as v}from"./AnchorElement.vue_vue_type_script_setup_true_lang.js";import{L as q}from"./LeftRightLayout.js";import{_ as rt}from"./_plugin-vue_export-helper.js";import"./preload-helper.js";import"./useResource.js";import"./axios.js";import"./PlaceholderBlock.vue_vue_type_script_setup_true_lang.js";const Gt=lt("code",!0,function(a){return n("svg",{width:a.size,height:a.size,viewBox:"0 0 48 48",fill:"none"},[n("path",{d:"M16 13L4 25.4322L16 37",stroke:a.colors[0],"stroke-width":a.strokeWidth,"stroke-linecap":a.strokeLinecap,"stroke-linejoin":a.strokeLinejoin},null),n("path",{d:"M32 13L44 25.4322L32 37",stroke:a.colors[0],"stroke-width":a.strokeWidth,"stroke-linecap":a.strokeLinecap,"stroke-linejoin":a.strokeLinejoin},null),n("path",{d:"M28 4L21 44",stroke:a.colors[0],"stroke-width":a.strokeWidth,"stroke-linecap":a.strokeLinecap},null)])}),It=lt("home",!1,function(a){return n("svg",{width:a.size,height:a.size,viewBox:"0 0 48 48",fill:"none"},[n("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:a.colors[1],stroke:a.colors[0],"stroke-width":a.strokeWidth,"stroke-linecap":a.strokeLinecap,"stroke-linejoin":a.strokeLinejoin},null),n("path",{d:"M19 29V42H29V29H19Z",fill:a.colors[3],stroke:a.colors[2],"stroke-width":a.strokeWidth,"stroke-linejoin":a.strokeLinejoin},null),n("path",{d:"M9 42H39",stroke:a.colors[0],"stroke-width":a.strokeWidth,"stroke-linecap":a.strokeLinecap},null)])}),Ht={class:"contributors"},At=["src"],Nt=it({__name:"ProjectContributors",props:{github:null,maxContributors:{default:7},columns:{default:7}},setup(a){const j=a,f=p=>{const _=/https:\/\/github.com\/([\w-]+)\/([\w.-]+)/.exec(p);return _?{namespace:_[1],repository:_[2]}:null},y=g(()=>{const p=f(j.github);return p?`https://contrib.rocks/image?repo=${p.namespace}/${p.repository}&max=${j.maxContributors}&columns=${j.columns}`:"/images/ncc-pmc.png"}),z=g(()=>{const p=f(j.github);return p?`https://github.com/${p.namespace}/${p.repository}/graphs/contributors`:"https://ncc.work/projects"});return(p,k)=>(i(),r("div",Ht,[n(v,{href:o(z),title:"Contributors",target:"_blank",mode:"classic"},{default:c(()=>[h("img",{src:o(y),alt:"Contributors"},null,8,At)]),_:1},8,["href"])]))}});const Tt=rt(Nt,[["__scopeId","data-v-3f47b5ae"]]),B=a=>(Mt("data-v-3a9f5754"),a=a(),qt(),a),Rt={class:"inline-block align-middle"},Ut=["src","alt","title"],Zt={class:"inline-block align-middle cursor-default px-3"},Et={class:"go-back"},Ft={class:"card"},Qt={key:0,class:"tip archived"},Jt={key:1,class:"tip toplevel"},Kt={key:2,class:"tip sandbox"},Ot={key:3,class:"tip incubation"},Xt={key:4,class:"tip labs"},Yt={key:5,class:"tip translation"},te={key:6,class:"tip external"},ee={class:"tip catalogue"},se={key:7,class:"tip2 align-middle"},oe=B(()=>h("span",{class:"inline-block align-middle ml-1 font-medium"},"GitHub",-1)),ae={key:8,class:"tip2 align-middle"},ne={class:"inline-block align-middle icon",t:"1698644520030",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4566","data-spm-anchor-id":"a313x.search_index.0.i5.73f13a81QDVP27",width:14,height:14},le=["fill"],ie=B(()=>h("span",{class:"inline-block align-middle ml-1 font-medium"},"Gitee",-1)),re={key:9,class:"tip2 align-middle"},ce=B(()=>h("span",{class:"inline-block align-middle ml-1 font-medium"},"WebSite",-1)),ue={key:0,class:"tip2 language-card"},de={class:"px-5"},he={class:"sub-catalog z-20"},me=["onClick"],fe=["onClick"],pe={class:"paper"},_e=it({__name:"ProjectDetailView",setup(a){ot("Member Project Detail");const j=St(),f=Vt(),y=zt(),z=bt(),p=Lt(),k=$t(),_=z.akaId,$=tt([]),W=tt({}),D=t=>{$.length=0;for(const s of t)$.push(s)},G=t=>{for(const s in t)W[s]=t[s]},ct=vt(),L=g(()=>ct.value?"#f8f8f8":"#000000"),e=g(()=>$.find(t=>t.id===_)),ut=g(()=>{var s;let t=(s=e==null?void 0:e.value)==null?void 0:s.logo;return(!t||t.length===0)&&(t=`/images/projects/${_}.png`),t}),dt=g(()=>{var s;const t=(s=e==null?void 0:e.value)==null?void 0:s.github;return!!t&&t.length>0}),ht=g(()=>{var s;const t=(s=e==null?void 0:e.value)==null?void 0:s.gitee;return!!t&&t.length>0}),mt=g(()=>{var s;const t=(s=e==null?void 0:e.value)==null?void 0:s.website;return!!t&&t.length>0}),ft=g(()=>{var s;const t=(s=e==null?void 0:e.value)==null?void 0:s.language;return!!t&&t.length>0}),pt=g(()=>{var s;const t=(s=e==null?void 0:e.value)==null?void 0:s.language;return t&&t.length>0?t:[]}),b=jt(""),I=t=>{const s=b.value;if(b.value=t,t===""){k.push({path:`/projects/${e.value.id}`});return}const u=f.currentProjectMetadata.modules.find(l=>l.name===t);if(!u){k.push({path:`/projects/${e.value.id}/paper-not-found`});return}if(u["in-build"]){k.push({path:`/projects/${e.value.id}/${t}`});return}const m=f.currentProjectProfile.modules[t];if(!m){k.push({path:`/projects/${e.value.id}/${t}`});return}if(m.url){b.value=s,window.open(m.url,"_blank");return}k.push({path:`/projects/${e.value.id}/${t}`})},x=t=>t==="general"?"":t,_t=g(()=>{var s;const t=(s=f.currentProjectMetadata)==null?void 0:s.modules;return t?t.filter(u=>u.float!=="right").sort((u,m)=>u.sort-m.sort):[]}),gt=g(()=>{var s;const t=(s=f.currentProjectMetadata)==null?void 0:s.modules;return t?t.filter(u=>u.float==="right").sort((u,m)=>m.sort-u.sort):[]}),H=t=>{var m;const s=(m=f.currentProjectProfile)==null?void 0:m.modules;if(!s)return t;const u=s[t];return u?typeof u=="string"?u:u.title:t},kt=t=>!!f.currentProjectMetadata.modules.find(s=>s.name===t);return yt(async()=>{at(j.locale,D,G).then(()=>{(!e.value||!$.some(t=>t.id===_)||$.some(t=>t.id===_&&t.status==="other"))&&k.push({name:"project-not-found"}),ot(`NCC ${e.value.name}`,"direct")}).then(()=>{Bt(_,f.setCurrentProjectMetadata),nt(j.locale,_,f.setCurrentProjectProfile)}),y.on("toChangeLocale",async t=>{const s=t;await at(s.locale,D,G),await nt(s.locale,_,f.setCurrentProjectProfile)}),y.on("toChangeProjectPaper",t=>{const s=t;Pt(()=>{kt(s.paper)?b.value=s.paper:s.broadcast?(b.value="#404#",y.emit(`toBind404Page${s.broadcast}`,{akaId:_})):(b.value="#404#",k.push({name:"project-not-found"}))})})}),wt(()=>{y.off("toChangeLocale"),y.off("toChangeProjectPaper")}),(t,s)=>{const u=xt("router-view");return i(),et(Wt,null,{default:c(()=>{var m;return[n(Dt,{"is-font-black":!1},{default:c(()=>[n(q,null,{left:c(()=>{var l,P,C;return[h("span",Rt,[h("img",{src:o(ut),width:"40",alt:(l=o(e))==null?void 0:l.name,title:(P=o(e))==null?void 0:P.name},null,8,Ut)]),h("span",Zt,d((C=o(e))==null?void 0:C.name),1)]}),right:c(()=>[n(q,null,{left:c(()=>{var l;return[n(Tt,{github:(l=o(e))==null?void 0:l.github},null,8,["github"])]}),right:c(()=>[h("div",Et,[n(v,{href:"/projects",title:t.$t("project-all-full"),mode:"classic"},{default:c(()=>[M(d(t.$t("project-all-full")),1)]),_:1},8,["title"])])]),_:1})]),_:1})]),_:1}),h("div",Ft,[n(q,null,{left:c(()=>{var l,P,C,A,N,T,R,U,Z,E,F,Q,J,K,O;return[n(v,{href:(P=(l=o(e))==null?void 0:l.leader)==null?void 0:P.url,title:(A=(C=o(e))==null?void 0:C.leader)==null?void 0:A.name,target:"_blank",mode:"classic"},{default:c(()=>{var X,Y;return[M(d((Y=(X=o(e))==null?void 0:X.leader)==null?void 0:Y.name),1)]}),_:1},8,["href","title"]),((N=o(e))==null?void 0:N.status)==="archived"?(i(),r("span",Qt,[n(v,{href:"/archived-projects",title:t.$t("project-archived"),mode:"classic"},{default:c(()=>[M(d(t.$t("project-archived")),1)]),_:1},8,["title"])])):((T=o(e))==null?void 0:T.status)==="top-level"?(i(),r("span",Jt,[n(v,{href:"/top-level-projects",title:t.$t("project-top-level"),mode:"classic"},{default:c(()=>[M(d(t.$t("project-top-level")),1)]),_:1},8,["title"])])):((R=o(e))==null?void 0:R.status)==="sandbox"?(i(),r("span",Kt,d(t.$t("project-sandbox")),1)):((U=o(e))==null?void 0:U.status)==="incubation"?(i(),r("span",Ot,d(t.$t("project-incubation")),1)):((Z=o(e))==null?void 0:Z.status)==="labs"?(i(),r("span",Xt,d(t.$t("project-laboratory")),1)):((E=o(e))==null?void 0:E.status)==="translation"?(i(),r("span",Yt,d(t.$t("project-translation")),1)):w("",!0),(F=o(e))!=null&&F.external?(i(),r("span",te,d(t.$t("project-external")),1)):w("",!0),h("span",ee,d(W[(Q=o(e))==null?void 0:Q.catalogue]),1),o(dt)?(i(),r("span",se,[n(v,{href:(J=o(e))==null?void 0:J.github,title:"GitHub",target:"_blank",mode:"classic"},{default:c(()=>[n(o(Ct),{class:"inline-block align-middle",theme:"filled",size:"14",fill:o(L)},null,8,["fill"]),oe]),_:1},8,["href"])])):w("",!0),o(ht)?(i(),r("span",ae,[n(v,{href:(K=o(e))==null?void 0:K.gitee,title:"Gitee",target:"_blank",mode:"classic"},{default:c(()=>[(i(),r("svg",ne,[h("path",{d:"M625.727964 666.847792q9.151997 9.151997 0 17.727994-35.423989 35.423989-113.727964 35.423989t-113.727964-35.423989q-9.151997-8.575997 0-17.727994 3.423999-3.423999 8.575997-3.423999t8.575997 3.423999q27.423991 27.999991 96.57597 27.999991 68.575979 0 96.57597-27.999991 3.423999-3.423999 8.575997-3.423999t8.575997 3.423999zM450.272019 563.423824q0 21.151993-14.847995 35.999989t-35.999989 14.847995-36.287989-14.847995-15.135995-35.999989q0-21.727993 15.135995-36.575989t36.287989-14.847995 35.999989 15.135995 14.847995 36.287989zM675.999949 563.423824q0 21.151993-15.135995 35.999989t-36.287989 14.847995-35.999989-14.847995-14.847995-35.999989 14.847995-36.287989 35.999989-15.135995 36.287989 14.847995 15.135995 36.575989zM819.423904 494.847845q0-27.999991-19.999994-47.999985t-48.575985-19.999994-49.151985 20.575994q-74.271977-51.423984-177.727944-54.847983l35.999989-161.727949 114.271964 25.727992q0 21.151993 14.847995 35.999989t35.999989 14.847995 36.287989-15.135995 15.135995-36.287989-15.135995-36.287989-36.287989-15.135995q-30.84799 0-45.727986 28.575991l-126.271961-27.999991q-10.847997-2.847999-14.271996 9.151997l-39.423988 178.271944q-102.847968 3.999999-176.575945 55.423983-19.999994-21.151993-49.727984-21.151993-28.575991 0-48.575985 19.999994t-19.999994 47.999985q0 19.999994 10.559997 36.575989t28.287991 25.151992q-3.423999 15.423995-3.423999 31.99999 0 81.151975 79.999975 138.847957t192.57594 57.727982q113.151965 0 193.15194-57.727982t79.999975-138.847957q0-18.271994-3.999999-32.57599 17.151995-8.575997 27.423991-24.863992t10.271997-36.287989zM1023.99984 511.99984q0 103.999968-40.575987 198.847938t-109.151966 163.423949-163.423949 109.151966-198.847938 40.575987-198.847938-40.575987-163.423949-109.151966-109.151966-163.423949-40.575987-198.847938 40.575987-198.847938 109.151966-163.423949 163.423949-109.151966 198.847938-40.575987 198.847938 40.575987 163.423949 109.151966 109.151966 163.423949 40.575987 198.847938z","p-id":"4567","data-spm-anchor-id":"a313x.search_index.0.i4.73f13a81QDVP27",class:"selected",fill:o(L)},null,8,le)])),ie]),_:1},8,["href"])])):w("",!0),o(mt)?(i(),r("span",re,[n(v,{href:(O=o(e))==null?void 0:O.website,title:"WebSite",target:"_blank",mode:"classic"},{default:c(()=>[n(o(It),{class:"inline-block align-middle",theme:"filled",size:"14",fill:o(L)},null,8,["fill"]),ce]),_:1},8,["href"])])):w("",!0)]}),right:c(()=>[o(ft)?(i(),r("span",ue,[n(o(Gt),{theme:"outline",size:"16",fill:o(L),class:"inline-block align-middle"},null,8,["fill"]),(i(!0),r(S,null,V(o(pt),l=>(i(),r("span",{key:l,class:"inline-block align-middle"},d(l),1))),128))])):w("",!0)]),_:1})]),h("div",de,d((m=o(e))==null?void 0:m.description),1),h("div",he,[n(q,null,{left:c(()=>[(i(!0),r(S,null,V(o(_t),l=>(i(),r("button",{key:l.name,class:st(["sub-catalog-text",{"sub-catalog-current":b.value===x(l.name)}]),onClick:P=>I(x(l.name))},d(H(l.name)),11,me))),128))]),right:c(()=>[(i(!0),r(S,null,V(o(gt),l=>(i(),r("button",{key:l.name,class:st(["sub-catalog-text",{"sub-catalog-current":b.value===x(l.name)}]),onClick:P=>I(x(l.name))},d(H(l.name)),11,fe))),128))]),_:1})]),h("div",pe,[(i(),et(u,{key:o(p).path}))])]}),_:1})}}});const Se=rt(_e,[["__scopeId","data-v-3a9f5754"]]);export{Se as default};

import{a3 as Q,g as a,d as J,k as c,o as i,a as l,h as u,f,u as o,a8 as ht,a0 as T,j as ft,l as mt,x as pt,n as _t,y as gt,z as R,a5 as kt,t as h,b as L,Z as y,G as jt,F as V,a1 as B,e as U,M as bt,a9 as Pt,p as vt,i as yt}from"./vendor.js";import{u as Mt}from"./useEmitter.js";import{u as wt}from"./uiStore.js";import{u as $t}from"./projectStore.js";import{c as E}from"./usePageToolkits.js";import{l as Z,c as Ct,d as F}from"./useProjectToolkits.js";import{B as Lt}from"./BodyBlock.js";import{T as xt}from"./TitleBlock.js";import{_ as j}from"./AnchorElement.vue_vue_type_script_setup_true_lang.js";import{L as x}from"./LeftRightLayout.js";import{_ as K}from"./_plugin-vue_export-helper.js";import"./useResource.js";import"./axios.js";import"./PlaceholderBlock.vue_vue_type_script_setup_true_lang.js";const St=Q("code",!0,function(s){return a("svg",{width:s.size,height:s.size,viewBox:"0 0 48 48",fill:"none"},[a("path",{d:"M16 13L4 25.4322L16 37",stroke:s.colors[0],"stroke-width":s.strokeWidth,"stroke-linecap":s.strokeLinecap,"stroke-linejoin":s.strokeLinejoin},null),a("path",{d:"M32 13L44 25.4322L32 37",stroke:s.colors[0],"stroke-width":s.strokeWidth,"stroke-linecap":s.strokeLinecap,"stroke-linejoin":s.strokeLinejoin},null),a("path",{d:"M28 4L21 44",stroke:s.colors[0],"stroke-width":s.strokeWidth,"stroke-linecap":s.strokeLinecap},null)])}),qt=Q("home",!1,function(s){return a("svg",{width:s.size,height:s.size,viewBox:"0 0 48 48",fill:"none"},[a("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:s.colors[1],stroke:s.colors[0],"stroke-width":s.strokeWidth,"stroke-linecap":s.strokeLinecap,"stroke-linejoin":s.strokeLinejoin},null),a("path",{d:"M19 29V42H29V29H19Z",fill:s.colors[3],stroke:s.colors[2],"stroke-width":s.strokeWidth,"stroke-linejoin":s.strokeLinejoin},null),a("path",{d:"M9 42H39",stroke:s.colors[0],"stroke-width":s.strokeWidth,"stroke-linecap":s.strokeLinecap},null)])}),zt={class:"contributors"},Vt=["src"],Bt=J({__name:"ProjectContributors",props:{github:null,maxContributors:{default:7},columns:{default:7}},setup(s){const b=s,r=m=>{const p=/https:\/\/github.com\/([\w-]+)\/([\w.-]+)/.exec(m);return p?{namespace:p[1],repository:p[2]}:null},P=c(()=>{const m=r(b.github);return m?`https://contrib.rocks/image?repo=${m.namespace}/${m.repository}&max=${b.maxContributors}&columns=${b.columns}`:"/images/ncc-pmc.png"}),S=c(()=>{const m=r(b.github);return m?`https://github.com/${m.namespace}/${m.repository}/graphs/contributors`:"https://ncc.work/projects"});return(m,_)=>(i(),l("div",zt,[a(j,{href:o(S),title:"Contributors",target:"_blank",mode:"classic"},{default:u(()=>[f("img",{src:o(P),alt:"Contributors"},null,8,Vt)]),_:1},8,["href"])]))}});const Gt=K(Bt,[["__scopeId","data-v-3f47b5ae"]]),G=s=>(vt("data-v-f3a73453"),s=s(),yt(),s),Wt={class:"inline-block align-middle"},Dt=["src","alt","title"],Ht={class:"inline-block align-middle cursor-default px-3"},It={class:"go-back"},Nt={class:"card"},At={key:0,class:"tip archived"},Tt={key:1,class:"tip toplevel"},Rt={key:2,class:"tip sandbox"},Ut={key:3,class:"tip incubation"},Et={key:4,class:"tip labs"},Zt={key:5,class:"tip translation"},Ft={key:6,class:"tip external"},Qt={class:"tip catalogue"},Jt={key:7,class:"tip2 align-middle"},Kt=G(()=>f("span",{class:"inline-block align-middle ml-1 font-medium"},"GitHub",-1)),Ot={key:8,class:"tip2 align-middle"},Xt={class:"inline-block align-middle icon",t:"1698644520030",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4566","data-spm-anchor-id":"a313x.search_index.0.i5.73f13a81QDVP27",width:14,height:14},Yt=["fill"],te=G(()=>f("span",{class:"inline-block align-middle ml-1 font-medium"},"Gitee",-1)),ee={key:9,class:"tip2 align-middle"},oe=G(()=>f("span",{class:"inline-block align-middle ml-1 font-medium"},"WebSite",-1)),se={key:0,class:"tip2 language-card"},re=["title"],ne={class:"px-5"},ae={class:"sub-catalog z-20"},ie=["onClick"],ce=["onClick"],le={class:"paper"},ue=J({__name:"ProjectDetailView",setup(s){E("Member Project Detail");const b=wt(),r=$t(),P=Mt(),S=ht(),m=bt(),_=kt(),p=S.akaId,M=T([]),W=T({}),D=t=>{M.length=0;for(const e of t)M.push(e)},H=t=>{for(const e in t)W[e]=t[e]},O=ft(),w=c(()=>O.value?"#f8f8f8":"#000000"),X=c(()=>{var e;let t=(e=r.currentProjectMetadata)==null?void 0:e.logo;return(!t||t.length===0)&&(t=`/images/projects/${p}.png`),t}),q=c(()=>{var t;return(t=r.currentProjectMetadata)==null?void 0:t.name}),z=c(()=>{var t;return(t=r.currentProjectMetadata)==null?void 0:t.leader}),v=c(()=>{var t;return(t=r.currentProjectMetadata)==null?void 0:t.status}),Y=c(()=>{var t;return(t=r.currentProjectMetadata)==null?void 0:t.external}),tt=c(()=>{var e;const t=(e=r.currentProjectMetadata)==null?void 0:e.catalogue;return t?W[t]:""}),et=c(()=>{var e;const t=(e=r.currentProjectMetadata)==null?void 0:e.github;return!!t&&t.length>0}),I=c(()=>{var t;return(t=r.currentProjectMetadata)==null?void 0:t.github}),ot=c(()=>{var e;const t=(e=r.currentProjectMetadata)==null?void 0:e.gitee;return!!t&&t.length>0}),st=c(()=>{var t;return(t=r.currentProjectMetadata)==null?void 0:t.gitee}),rt=c(()=>{var e;const t=(e=r.currentProjectMetadata)==null?void 0:e.website;return!!t&&t.length>0}),nt=c(()=>{var t;return(t=r.currentProjectMetadata)==null?void 0:t.website}),at=c(()=>{var e;const t=(e=r.currentProjectMetadata)==null?void 0:e.language;return!!t&&t.length>0}),it=c(()=>{var e;const t=(e=r.currentProjectMetadata)==null?void 0:e.language;return t&&t.length>0?t:[]}),ct=c(()=>{var t;return(t=r.currentProjectProfile)==null?void 0:t.description}),g=mt(""),N=t=>{const e=r.currentProjectMetadata,d=g.value;if(g.value=t,t===""){_.push({path:`/projects/${e.id}`});return}const n=r.currentProjectMetadata.modules.find(C=>C.name===t);if(!n){_.push({path:`/projects/${e.id}/paper-not-found`});return}if(n["in-build"]){_.push({path:`/projects/${e.id}/${t}`});return}const k=r.currentProjectProfile.modules[t];if(!k){_.push({path:`/projects/${e.id}/${t}`});return}if(k.url){g.value=d,window.open(k.url,"_blank");return}_.push({path:`/projects/${e.id}/${t}`})},$=t=>t==="general"?"":t,lt=c(()=>{var e;const t=(e=r.currentProjectMetadata)==null?void 0:e.modules;return t?t.filter(d=>d.float!=="right").sort((d,n)=>d.sort-n.sort):[]}),ut=c(()=>{var e;const t=(e=r.currentProjectMetadata)==null?void 0:e.modules;return t?t.filter(d=>d.float==="right").sort((d,n)=>n.sort-d.sort):[]}),A=t=>{var n;const e=(n=r.currentProjectProfile)==null?void 0:n.modules;if(!e)return t;const d=e[t];return d?typeof d=="string"?d:d.title:t},dt=t=>!!r.currentProjectMetadata.modules.find(e=>e.name===t);return pt(async()=>{Z(b.locale,D,H).then(()=>{const t=M.find(e=>e.id===p);(!t||!M.some(e=>e.id===p)||M.some(e=>e.id===p&&e.status==="other"))&&_.push({name:"project-not-found"}),E(`NCC ${t.name}`,"direct")}).then(()=>{Ct(p,r.setCurrentProjectMetadata),F(b.locale,p,r.setCurrentProjectProfile)}),P.on("toChangeLocale",async t=>{const e=t;await Z(e.locale,D,H),await F(e.locale,p,r.setCurrentProjectProfile)}),P.on("toChangeProjectPaper",t=>{const e=t;_t(()=>{dt(e.paper)?g.value=e.paper:e.broadcast?(g.value="#404#",P.emit(`toBind404Page${e.broadcast}`,{akaId:p})):(g.value="#404#",_.push({name:"project-not-found"}))})})}),gt(()=>{P.off("toChangeLocale"),P.off("toChangeProjectPaper")}),(t,e)=>{const d=Pt("router-view");return i(),R(Lt,null,{default:u(()=>[a(xt,{"is-font-black":!1},{default:u(()=>[a(x,null,{left:u(()=>[f("span",Wt,[f("img",{src:o(X),width:"40",alt:o(q),title:o(q)},null,8,Dt)]),f("span",Ht,h(o(q)),1)]),right:u(()=>[a(x,null,{left:u(()=>[a(Gt,{github:o(I)},null,8,["github"])]),right:u(()=>[f("div",It,[a(j,{href:"/projects",title:t.$t("project-all-full"),mode:"classic"},{default:u(()=>[L(h(t.$t("project-all-full")),1)]),_:1},8,["title"])])]),_:1})]),_:1})]),_:1}),f("div",Nt,[a(x,null,{left:u(()=>{var n,k;return[a(j,{href:(n=o(z))==null?void 0:n.url,title:(k=o(z))==null?void 0:k.name,target:"_blank",mode:"classic"},{default:u(()=>{var C;return[L(h((C=o(z))==null?void 0:C.name),1)]}),_:1},8,["href","title"]),o(v)==="archived"?(i(),l("span",At,[a(j,{href:"/archived-projects",title:t.$t("project-archived"),mode:"classic"},{default:u(()=>[L(h(t.$t("project-archived")),1)]),_:1},8,["title"])])):o(v)==="top-level"?(i(),l("span",Tt,[a(j,{href:"/top-level-projects",title:t.$t("project-top-level"),mode:"classic"},{default:u(()=>[L(h(t.$t("project-top-level")),1)]),_:1},8,["title"])])):o(v)==="sandbox"?(i(),l("span",Rt,h(t.$t("project-sandbox")),1)):o(v)==="incubation"?(i(),l("span",Ut,h(t.$t("project-incubation")),1)):o(v)==="labs"?(i(),l("span",Et,h(t.$t("project-laboratory")),1)):o(v)==="translation"?(i(),l("span",Zt,h(t.$t("project-translation")),1)):y("",!0),o(Y)?(i(),l("span",Ft,h(t.$t("project-external")),1)):y("",!0),f("span",Qt,h(o(tt)),1),o(et)?(i(),l("span",Jt,[a(j,{href:o(I),title:"GitHub",target:"_blank",mode:"classic"},{default:u(()=>[a(o(jt),{class:"inline-block align-middle",theme:"filled",size:"14",fill:o(w)},null,8,["fill"]),Kt]),_:1},8,["href"])])):y("",!0),o(ot)?(i(),l("span",Ot,[a(j,{href:o(st),title:"Gitee",target:"_blank",mode:"classic"},{default:u(()=>[(i(),l("svg",Xt,[f("path",{d:"M625.727964 666.847792q9.151997 9.151997 0 17.727994-35.423989 35.423989-113.727964 35.423989t-113.727964-35.423989q-9.151997-8.575997 0-17.727994 3.423999-3.423999 8.575997-3.423999t8.575997 3.423999q27.423991 27.999991 96.57597 27.999991 68.575979 0 96.57597-27.999991 3.423999-3.423999 8.575997-3.423999t8.575997 3.423999zM450.272019 563.423824q0 21.151993-14.847995 35.999989t-35.999989 14.847995-36.287989-14.847995-15.135995-35.999989q0-21.727993 15.135995-36.575989t36.287989-14.847995 35.999989 15.135995 14.847995 36.287989zM675.999949 563.423824q0 21.151993-15.135995 35.999989t-36.287989 14.847995-35.999989-14.847995-14.847995-35.999989 14.847995-36.287989 35.999989-15.135995 36.287989 14.847995 15.135995 36.575989zM819.423904 494.847845q0-27.999991-19.999994-47.999985t-48.575985-19.999994-49.151985 20.575994q-74.271977-51.423984-177.727944-54.847983l35.999989-161.727949 114.271964 25.727992q0 21.151993 14.847995 35.999989t35.999989 14.847995 36.287989-15.135995 15.135995-36.287989-15.135995-36.287989-36.287989-15.135995q-30.84799 0-45.727986 28.575991l-126.271961-27.999991q-10.847997-2.847999-14.271996 9.151997l-39.423988 178.271944q-102.847968 3.999999-176.575945 55.423983-19.999994-21.151993-49.727984-21.151993-28.575991 0-48.575985 19.999994t-19.999994 47.999985q0 19.999994 10.559997 36.575989t28.287991 25.151992q-3.423999 15.423995-3.423999 31.99999 0 81.151975 79.999975 138.847957t192.57594 57.727982q113.151965 0 193.15194-57.727982t79.999975-138.847957q0-18.271994-3.999999-32.57599 17.151995-8.575997 27.423991-24.863992t10.271997-36.287989zM1023.99984 511.99984q0 103.999968-40.575987 198.847938t-109.151966 163.423949-163.423949 109.151966-198.847938 40.575987-198.847938-40.575987-163.423949-109.151966-109.151966-163.423949-40.575987-198.847938 40.575987-198.847938 109.151966-163.423949 163.423949-109.151966 198.847938-40.575987 198.847938 40.575987 163.423949 109.151966 109.151966 163.423949 40.575987 198.847938z","p-id":"4567","data-spm-anchor-id":"a313x.search_index.0.i4.73f13a81QDVP27",class:"selected",fill:o(w)},null,8,Yt)])),te]),_:1},8,["href"])])):y("",!0),o(rt)?(i(),l("span",ee,[a(j,{href:o(nt),title:"WebSite",target:"_blank",mode:"classic"},{default:u(()=>[a(o(qt),{class:"inline-block align-middle",theme:"filled",size:"14",fill:o(w)},null,8,["fill"]),oe]),_:1},8,["href"])])):y("",!0)]}),right:u(()=>[o(at)?(i(),l("span",se,[a(o(St),{theme:"outline",size:"16",fill:o(w),class:"inline-block align-middle"},null,8,["fill"]),(i(!0),l(V,null,B(o(it),n=>(i(),l("span",{key:n,class:"inline-block align-middle",title:n},h(n),9,re))),128))])):y("",!0)]),_:1})]),f("div",ne,h(o(ct)),1),f("div",ae,[a(x,null,{left:u(()=>[(i(!0),l(V,null,B(o(lt),n=>(i(),l("button",{key:n.name,class:U(["sub-catalog-text",{"sub-catalog-current":g.value===$(n.name)}]),onClick:k=>N($(n.name))},h(A(n.name)),11,ie))),128))]),right:u(()=>[(i(!0),l(V,null,B(o(ut),n=>(i(),l("button",{key:n.name,class:U(["sub-catalog-text",{"sub-catalog-current":g.value===$(n.name)}]),onClick:k=>N($(n.name))},h(A(n.name)),11,ce))),128))]),_:1})]),f("div",le,[(i(),R(d,{key:o(m).path}))])]),_:1})}}});const we=K(ue,[["__scopeId","data-v-f3a73453"]]);export{we as default};

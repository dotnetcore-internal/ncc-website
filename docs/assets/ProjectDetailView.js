import{a7 as pe,f as i,d as _e,a8 as ge,a2 as K,j as ke,k as g,l as ve,x as be,n as je,y as Pe,z as O,g as f,a6 as ye,o as n,e as h,u as o,t as d,h as C,a as c,Z as y,G as we,a3 as X,b as Y,F as ee,M as $e,a9 as Ce,p as Me,i as qe}from"./vendor.js";import{u as xe}from"./useEmitter.js";import{u as Le}from"./uiStore.js";import{u as Se}from"./projectStore.js";import{c as te}from"./usePageToolkits.js";import{l as se,c as Ve,d as oe}from"./useProjectToolkits.js";import{B as ze}from"./BodyBlock.js";import{T as Be}from"./TitleBlock.js";import{_ as b}from"./AnchorElement.vue_vue_type_script_setup_true_lang.js";import{L as ae}from"./LeftRightLayout.js";import{_ as De}from"./_plugin-vue_export-helper.js";import"./preload-helper.js";import"./useResource.js";import"./PlaceholderBlock.vue_vue_type_script_setup_true_lang.js";const Ge=pe("home",!1,function(a){return i("svg",{width:a.size,height:a.size,viewBox:"0 0 48 48",fill:"none"},[i("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:a.colors[1],stroke:a.colors[0],"stroke-width":a.strokeWidth,"stroke-linecap":a.strokeLinecap,"stroke-linejoin":a.strokeLinejoin},null),i("path",{d:"M19 29V42H29V29H19Z",fill:a.colors[3],stroke:a.colors[2],"stroke-width":a.strokeWidth,"stroke-linejoin":a.strokeLinejoin},null),i("path",{d:"M9 42H39",stroke:a.colors[0],"stroke-width":a.strokeWidth,"stroke-linecap":a.strokeLinecap},null)])}),q=a=>(Me("data-v-16b6e255"),a=a(),qe(),a),He={class:"inline-block align-middle"},Ie=["src","alt","title"],Ne={class:"inline-block align-middle cursor-default px-3"},We={class:"go-back"},Ae={class:"card"},Te={key:0,class:"tip archived"},Re={key:1,class:"tip toplevel"},Ze={key:2,class:"tip sandbox"},Ee={key:3,class:"tip incubation"},Fe={key:4,class:"tip labs"},Qe={key:5,class:"tip translation"},Ue={key:6,class:"tip external"},Je={class:"tip catalogue"},Ke={key:7,class:"tip2 align-middle"},Oe=q(()=>h("span",{class:"inline-block align-middle ml-1 font-medium"},"GitHub",-1)),Xe={key:8,class:"tip2 align-middle"},Ye={class:"inline-block align-middle icon",t:"1698644520030",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4566","data-spm-anchor-id":"a313x.search_index.0.i5.73f13a81QDVP27",width:14,height:14},et=["fill"],tt=q(()=>h("span",{class:"inline-block align-middle ml-1 font-medium"},"Gitee",-1)),st={key:9,class:"tip2 align-middle"},ot=q(()=>h("span",{class:"inline-block align-middle ml-1 font-medium"},"WebSite",-1)),at={class:"px-5"},lt={class:"sub-catalog z-20"},nt=["onClick"],it=["onClick"],rt={class:"paper"},ct=_e({__name:"ProjectDetailView",setup(a){te("Member Project Detail");const x=Le(),m=Se(),j=xe(),le=ge(),ne=$e(),k=ye(),p=le.akaId,P=K([]),L=K({}),S=e=>{P.length=0;for(const t of e)P.push(t)},V=e=>{for(const t in e)L[t]=e[t]},ie=ke(),M=g(()=>ie.value?"#f8f8f8":"#000000"),s=g(()=>P.find(e=>e.id===p)),re=g(()=>{var t;let e=(t=s==null?void 0:s.value)==null?void 0:t.logo;return(!e||e.length===0)&&(e=`/images/projects/${p}.png`),e}),ce=g(()=>{var t;const e=(t=s==null?void 0:s.value)==null?void 0:t.github;return!!e&&e.length>0}),de=g(()=>{var t;const e=(t=s==null?void 0:s.value)==null?void 0:t.gitee;return!!e&&e.length>0}),ue=g(()=>{var t;const e=(t=s==null?void 0:s.value)==null?void 0:t.website;return!!e&&e.length>0}),_=ve(""),z=e=>{const t=_.value;if(_.value=e,e===""){k.push({path:`/projects/${s.value.id}`});return}const l=m.currentProjectMetadata.modules.find($=>$.name===e);if(!l){k.push({path:`/projects/${s.value.id}/paper-not-found`});return}if(l["in-build"]){k.push({path:`/projects/${s.value.id}/${e}`});return}const u=m.currentProjectProfile.modules[e];if(!u){k.push({path:`/projects/${s.value.id}/${e}`});return}if(u.url){_.value=t,window.open(u.url,"_blank");return}k.push({path:`/projects/${s.value.id}/${e}`})},w=e=>e==="general"?"":e,fe=g(()=>{var t;const e=(t=m.currentProjectMetadata)==null?void 0:t.modules;return e?e.filter(l=>l.float!=="right").sort((l,u)=>l.sort-u.sort):[]}),he=g(()=>{var t;const e=(t=m.currentProjectMetadata)==null?void 0:t.modules;return e?e.filter(l=>l.float==="right").sort((l,u)=>u.sort-l.sort):[]}),B=e=>{var u;const t=(u=m.currentProjectProfile)==null?void 0:u.modules;if(!t)return e;const l=t[e];return l?typeof l=="string"?l:l.title:e},me=e=>!!m.currentProjectMetadata.modules.find(t=>t.name===e);return be(async()=>{se(x.locale,S,V).then(()=>{(!s.value||!P.some(e=>e.id===p)||P.some(e=>e.id===p&&e.status==="other"))&&k.push({name:"project-not-found"}),te(`NCC ${s.value.name}`,"direct")}).then(()=>{Ve(p,m.setCurrentProjectMetadata),oe(x.locale,p,m.setCurrentProjectProfile)}),j.on("toChangeLocale",async e=>{const t=e;await se(t.locale,S,V),await oe(t.locale,p,m.setCurrentProjectProfile)}),j.on("toChangeProjectPaper",e=>{const t=e;je(()=>{me(t.paper)?_.value=t.paper:t.broadcast?(_.value="#404#",j.emit(`toBind404Page${t.broadcast}`,{akaId:p})):(_.value="#404#",k.push({name:"project-not-found"}))})})}),Pe(()=>{j.off("toChangeLocale"),j.off("toChangeProjectPaper")}),(e,t)=>{const l=Ce("router-view");return n(),O(ze,null,{default:f(()=>{var u,$,D,G,H,I,N,W,A,T,R,Z,E,F,Q,U;return[i(Be,{"is-font-black":!1},{default:f(()=>[i(ae,null,{left:f(()=>{var r,v,J;return[h("span",He,[h("img",{src:o(re),width:"40",alt:(r=o(s))==null?void 0:r.name,title:(v=o(s))==null?void 0:v.name},null,8,Ie)]),h("span",Ne,d((J=o(s))==null?void 0:J.name),1)]}),right:f(()=>[h("div",We,[i(b,{href:"/projects",title:e.$t("project-all-full"),mode:"classic"},{default:f(()=>[C(d(e.$t("project-all-full")),1)]),_:1},8,["title"])])]),_:1})]),_:1}),h("div",Ae,[i(b,{href:($=(u=o(s))==null?void 0:u.leader)==null?void 0:$.url,title:(G=(D=o(s))==null?void 0:D.leader)==null?void 0:G.name,target:"_blank",mode:"classic"},{default:f(()=>{var r,v;return[C(d((v=(r=o(s))==null?void 0:r.leader)==null?void 0:v.name),1)]}),_:1},8,["href","title"]),((H=o(s))==null?void 0:H.status)==="archived"?(n(),c("span",Te,[i(b,{href:"/archived-projects",title:e.$t("project-archived"),mode:"classic"},{default:f(()=>[C(d(e.$t("project-archived")),1)]),_:1},8,["title"])])):((I=o(s))==null?void 0:I.status)==="top-level"?(n(),c("span",Re,[i(b,{href:"/top-level-projects",title:e.$t("project-top-level"),mode:"classic"},{default:f(()=>[C(d(e.$t("project-top-level")),1)]),_:1},8,["title"])])):((N=o(s))==null?void 0:N.status)==="sandbox"?(n(),c("span",Ze,d(e.$t("project-sandbox")),1)):((W=o(s))==null?void 0:W.status)==="incubation"?(n(),c("span",Ee,d(e.$t("project-incubation")),1)):((A=o(s))==null?void 0:A.status)==="labs"?(n(),c("span",Fe,d(e.$t("project-laboratory")),1)):((T=o(s))==null?void 0:T.status)==="translation"?(n(),c("span",Qe,d(e.$t("project-translation")),1)):y("",!0),(R=o(s))!=null&&R.external?(n(),c("span",Ue,d(e.$t("project-external")),1)):y("",!0),h("span",Je,d(L[(Z=o(s))==null?void 0:Z.catalogue]),1),o(ce)?(n(),c("span",Ke,[i(b,{href:(E=o(s))==null?void 0:E.github,title:"GitHub",target:"_blank",mode:"classic"},{default:f(()=>[i(o(we),{class:"inline-block align-middle",theme:"filled",size:"14",fill:o(M)},null,8,["fill"]),Oe]),_:1},8,["href"])])):y("",!0),o(de)?(n(),c("span",Xe,[i(b,{href:(F=o(s))==null?void 0:F.gitee,title:"Gitee",target:"_blank",mode:"classic"},{default:f(()=>[(n(),c("svg",Ye,[h("path",{d:"M625.727964 666.847792q9.151997 9.151997 0 17.727994-35.423989 35.423989-113.727964 35.423989t-113.727964-35.423989q-9.151997-8.575997 0-17.727994 3.423999-3.423999 8.575997-3.423999t8.575997 3.423999q27.423991 27.999991 96.57597 27.999991 68.575979 0 96.57597-27.999991 3.423999-3.423999 8.575997-3.423999t8.575997 3.423999zM450.272019 563.423824q0 21.151993-14.847995 35.999989t-35.999989 14.847995-36.287989-14.847995-15.135995-35.999989q0-21.727993 15.135995-36.575989t36.287989-14.847995 35.999989 15.135995 14.847995 36.287989zM675.999949 563.423824q0 21.151993-15.135995 35.999989t-36.287989 14.847995-35.999989-14.847995-14.847995-35.999989 14.847995-36.287989 35.999989-15.135995 36.287989 14.847995 15.135995 36.575989zM819.423904 494.847845q0-27.999991-19.999994-47.999985t-48.575985-19.999994-49.151985 20.575994q-74.271977-51.423984-177.727944-54.847983l35.999989-161.727949 114.271964 25.727992q0 21.151993 14.847995 35.999989t35.999989 14.847995 36.287989-15.135995 15.135995-36.287989-15.135995-36.287989-36.287989-15.135995q-30.84799 0-45.727986 28.575991l-126.271961-27.999991q-10.847997-2.847999-14.271996 9.151997l-39.423988 178.271944q-102.847968 3.999999-176.575945 55.423983-19.999994-21.151993-49.727984-21.151993-28.575991 0-48.575985 19.999994t-19.999994 47.999985q0 19.999994 10.559997 36.575989t28.287991 25.151992q-3.423999 15.423995-3.423999 31.99999 0 81.151975 79.999975 138.847957t192.57594 57.727982q113.151965 0 193.15194-57.727982t79.999975-138.847957q0-18.271994-3.999999-32.57599 17.151995-8.575997 27.423991-24.863992t10.271997-36.287989zM1023.99984 511.99984q0 103.999968-40.575987 198.847938t-109.151966 163.423949-163.423949 109.151966-198.847938 40.575987-198.847938-40.575987-163.423949-109.151966-109.151966-163.423949-40.575987-198.847938 40.575987-198.847938 109.151966-163.423949 163.423949-109.151966 198.847938-40.575987 198.847938 40.575987 163.423949 109.151966 109.151966 163.423949 40.575987 198.847938z","p-id":"4567","data-spm-anchor-id":"a313x.search_index.0.i4.73f13a81QDVP27",class:"selected",fill:o(M)},null,8,et)])),tt]),_:1},8,["href"])])):y("",!0),o(ue)?(n(),c("span",st,[i(b,{href:(Q=o(s))==null?void 0:Q.website,title:"WebSite",target:"_blank",mode:"classic"},{default:f(()=>[i(o(Ge),{class:"inline-block align-middle",theme:"filled",size:"14",fill:o(M)},null,8,["fill"]),ot]),_:1},8,["href"])])):y("",!0)]),h("div",at,d((U=o(s))==null?void 0:U.description),1),h("div",lt,[i(ae,null,{left:f(()=>[(n(!0),c(ee,null,X(o(fe),r=>(n(),c("button",{key:r.name,class:Y(["sub-catalog-text",{"sub-catalog-current":_.value===w(r.name)}]),onClick:v=>z(w(r.name))},d(B(r.name)),11,nt))),128))]),right:f(()=>[(n(!0),c(ee,null,X(o(he),r=>(n(),c("button",{key:r.name,class:Y(["sub-catalog-text",{"sub-catalog-current":_.value===w(r.name)}]),onClick:v=>z(w(r.name))},d(B(r.name)),11,it))),128))]),_:1})]),h("div",rt,[(n(),O(l,{key:o(ne).path}))])]}),_:1})}}});const wt=De(ct,[["__scopeId","data-v-16b6e255"]]);export{wt as default};

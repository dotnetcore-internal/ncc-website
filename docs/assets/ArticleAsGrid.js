import{d as k,k as h,l as w,x as S,o as s,a as r,f as $,g as B,e as f,u as l,r as M,Z as u,F as Y,a1 as T,m as D,v as U,t as y,b as C,a4 as I,p as N,i as F}from"./vendor.js";import{u as V}from"./uiStore.js";import{h as z,g as G,c as E}from"./ContentModels.js";import{_ as H}from"./AnchorElement.vue_vue_type_script_setup_true_lang.js";import{_ as L}from"./_plugin-vue_export-helper.js";const O=e=>(N("data-v-14a42420"),e=e(),F(),e),Z=["src","alt"],j={class:"block px-5 py-7 text-lg font-bold"},q=O(()=>f("br",null,null,-1)),J={key:0,class:"text-sm font-light text-gray-500"},K={key:0,class:"text-xs mr-1 text-gray-500/50"},P={key:0,class:"text-xs mx-1 text-gray-500/50"},Q={key:1,class:"text-xs mx-1 text-gray-500/50"},R={key:2,class:"mr-1.5"},W=["src","alt"],X={key:3,class:""},tt={key:0,class:"block px-5 py-7 text-sm text-gray-500"},at=k({__name:"ArticleAsGrid",props:{id:null,image:null,date:null,titleTip:null,url:null,baseUrl:null,author:{default:null},displayAuthorMode:{default:"hide"},displayAuthorBy:{type:Boolean,default:!1},displayDate:{type:Boolean,default:!0},withShadow:{type:Boolean,default:!0},withScale:{type:Boolean,default:!0},infiniteHorizontal:{type:Boolean,default:!1}},setup(e){const t=e,_=V(),c=(a,n)=>I(a,n,{locales:_}).value,m=h(()=>{var a;return(a=t.titleTip)!=null?a:""}),b=h(()=>{const a=c(t.date,"YYYY"),n=c(t.date,"MM");return`/articles${t.baseUrl}/${a}/${n}/${t.id}/assets/${t.image}`}),v=h(()=>{if(t.url)return t.url;const a=c(t.date,"YYYY"),n=c(t.date,"MM");return`${t.baseUrl}/${a}/${n}/${t.id}`}),i=w(!1),A=a=>{if(i.value)switch(t.displayAuthorMode){case"hide":return!1;case"all":case"all-but-avatar":case"all-but-name":case"all-but-first-avatar":case"all-but-first-name":return!0;case"first":case"first-but-avatar":case"first-but-name":return a===0}return!1},x=a=>{if(i.value)switch(t.displayAuthorMode){case"all":case"all-but-name":case"all-but-first-avatar":return!0;case"all-but-avatar":case"first-but-avatar":return!1;case"first":case"first-but-name":case"all-but-first-name":return a===0}return!1},g=a=>{if(i.value)switch(t.displayAuthorMode){case"all":case"all-but-avatar":return!0;case"all-but-name":case"first-but-name":return!1;case"first":case"first-but-avatar":case"all-but-first-avatar":return a===0;case"all-but-first-name":return a!==0}return!1},p=h(()=>E(t.author));return S(()=>{i.value=t.displayAuthorMode!=="hide"}),(a,n)=>(s(),r("div",{class:C(["article-grid",{"shadow-md":e.withShadow,"hover:scale-105":e.withScale}])},[$(H,{class:"block w-full h-4/5",href:l(v),title:l(m),target:"_blank",mode:"classic"},{default:B(()=>[f("img",{src:l(b),alt:l(m)},null,8,Z),f("span",j,[M(a.$slots,"default",{},void 0,!0),q,l(z)(e.author)?(s(),r("span",J,[e.displayAuthorBy?(s(),r("span",K,"by")):u("",!0),(s(!0),r(Y,null,T(l(G)(e.author),(d,o)=>D((s(),r("span",{key:d.id},[o>0&&o<l(p)-1?(s(),r("span",P,",")):o>0&&o<l(p)?(s(),r("span",Q,"and")):u("",!0),g(o)?(s(),r("span",R,[f("img",{src:d.avatar,alt:d.name,class:"inline-block w-5 h-5 rounded-full"},null,8,W)])):u("",!0),x(o)?(s(),r("span",X,y(d.name),1)):u("",!0)])),[[U,A(o)]])),128))])):u("",!0)])]),_:3},8,["href","title"]),t.displayDate?(s(),r("span",tt,y(c(e.date,a.$t("_common.date-format"))),1)):u("",!0)],2))}});const nt=L(at,[["__scopeId","data-v-14a42420"]]);export{nt as A};

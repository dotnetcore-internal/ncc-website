import{d as $,k as c,l as B,x as M,o as a,a as s,g as T,h as S,f as h,u as r,r as y,Z as u,F as D,a1 as Y,m as N,v as U,t as b,e as C,a4 as I}from"./vendor.js";import{u as F}from"./uiStore.js";import{h as V,g as z,c as G}from"./ContentModels.js";import{_ as E}from"./AnchorElement.vue_vue_type_script_setup_true_lang.js";import{_ as H}from"./_plugin-vue_export-helper.js";const L=["src","alt"],O={class:"block px-5 py-7 text-lg font-bold"},Z={key:0,class:"article-description"},j={key:1},q={key:2,class:"text-sm font-medium text-gray-500"},J={key:0,class:"text-xs mr-1 text-gray-500/50"},K={key:0,class:"text-xs mx-1 text-gray-500/50"},P={key:1,class:"text-xs mx-1 text-gray-500/50"},Q={key:2,class:"mr-1.5"},R=["src","alt"],W={key:3,class:""},X={key:3,class:"text-xs mt-1.5 text-gray-500 font-medium block"},tt=$({__name:"ArticleAsGrid",props:{id:null,image:null,date:null,titleTip:null,url:null,baseUrl:null,author:{default:null},displayAuthorMode:{default:"hide"},displayAuthorBy:{type:Boolean,default:!1},displayDescription:{type:Boolean,default:!1},displayDate:{type:Boolean,default:!0},withShadow:{type:Boolean,default:!0},withScale:{type:Boolean,default:!0},infiniteHorizontal:{type:Boolean,default:!1},openInNewTab:{type:Boolean,default:!0}},setup(l){const t=l,_=F(),i=(e,n)=>I(e,n,{locales:_}).value,m=c(()=>{var e;return(e=t.titleTip)!=null?e:""}),v=c(()=>{const e=i(t.date,"YYYY"),n=i(t.date,"MM");return`/content${t.baseUrl}/${e}/${n}/${t.id}/assets/${t.image}`}),A=c(()=>{if(t.url)return t.url;const e=i(t.date,"YYYY"),n=i(t.date,"MM");return`${t.baseUrl}/${e}/${n}/${t.id}`}),g=c(()=>t.openInNewTab?"_blank":"_self"),d=B(!1),x=e=>{if(d.value)switch(t.displayAuthorMode){case"hide":return!1;case"all":case"all-but-avatar":case"all-but-name":case"all-but-first-avatar":case"all-but-first-name":return!0;case"first":case"first-but-avatar":case"first-but-name":return e===0}return!1},k=e=>{if(d.value)switch(t.displayAuthorMode){case"all":case"all-but-name":case"all-but-first-avatar":return!0;case"all-but-avatar":case"first-but-avatar":return!1;case"first":case"first-but-name":case"all-but-first-name":return e===0}return!1},w=e=>{if(d.value)switch(t.displayAuthorMode){case"all":case"all-but-avatar":return!0;case"all-but-name":case"first-but-name":return!1;case"first":case"first-but-avatar":case"all-but-first-avatar":return e===0;case"all-but-first-name":return e!==0}return!1},p=c(()=>G(t.author));return M(()=>{d.value=t.displayAuthorMode!=="hide"}),(e,n)=>(a(),s("div",{class:C(["article-grid",{"shadow-md":l.withShadow,"hover:scale-105":l.withScale}])},[T(E,{class:"block w-full h-4/5",href:r(A),title:r(m),target:r(g),mode:"classic"},{default:S(()=>[h("img",{src:r(v),alt:r(m)},null,8,L),h("span",O,[y(e.$slots,"default",{},void 0,!0),l.displayDescription?(a(),s("span",Z,[y(e.$slots,"description",{},void 0,!0)])):(a(),s("br",j)),r(V)(l.author)?(a(),s("span",q,[l.displayAuthorBy?(a(),s("span",J,"by")):u("",!0),(a(!0),s(D,null,Y(r(z)(l.author),(f,o)=>N((a(),s("span",{key:f.id},[o>0&&o<r(p)-1?(a(),s("span",K,",")):o>0&&o<r(p)?(a(),s("span",P,"and")):u("",!0),w(o)?(a(),s("span",Q,[h("img",{src:f.avatar,alt:f.name,class:"inline-block w-5 h-5 rounded-full"},null,8,R)])):u("",!0),k(o)?(a(),s("span",W,b(f.name),1)):u("",!0)])),[[U,x(o)]])),128))])):u("",!0),t.displayDate?(a(),s("span",X,b(i(l.date,e.$t("_common.date-format"))),1)):u("",!0)])]),_:3},8,["href","title","target"])],2))}});const ot=H(tt,[["__scopeId","data-v-4e60bb20"]]);export{ot as A};

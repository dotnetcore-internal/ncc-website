import{Z as l,x as f,_ as m}from"./vendor.js";const d="20231104002",L=s=>{if(s===null)return!0;const e=Number.parseInt(s!=null?s:"0"),t=Number.parseInt(d);return e<t};function h(s={locale:"en"}){const e=l(s);return S(e,s.locale),e}function S(s,e){var t;s.mode==="legacy"?s.global.locale=e:s.global.locale.value=e,(t=document.querySelector("html"))==null||t.setAttribute("lang",e)}async function M(s,e,t){const u=t==="/"?"_common":t.replace(/\//g,"_"),g=`/locales/${e}/t_${u}.json`,o=p(t,e);return o&&!L(o[u].version)?i(e)?s.global.mergeLocaleMessage(e,o):(c(e),s.global.setLocaleMessage(e,o)):await fetch(g).then(n=>n.json()).then(n=>{i(e)?s.global.mergeLocaleMessage(e,n):(c(e),s.global.setLocaleMessage(e,n)),b(t,e,n)}).catch(n=>{console.log(n),e="en"}),$(t,e),f()}const a=[];function c(s){a.includes(s)||a.push(s)}function i(s){return a.includes(s)}const r=[];function $(s,e){r.includes(`${e}#${s}`)||r.push(`${e}#${s}`)}function P(s,e){return r.includes(`${e}#${s}`)}function p(s,e){const t=localStorage.getItem(`${e}#${s}`);return t?JSON.parse(t):null}function b(s,e,t){localStorage.setItem(`${e}#${s}`,JSON.stringify(t))}const I=m(),R=()=>I;export{h as a,b,p as g,P as h,M as l,S as s,R as u};

import{c as H,_ as W}from"./usePageToolkits.js";import{B as L}from"./BodyBlock.js";import{T as N}from"./TitleBlock.js";import{d as B,l as p,k as m,x as E,y as A,o as d,a as f,m as S,v as T,f as n,u as D,F as I,a5 as O,a0 as R,g as h,h as U,t as v,e as o,a1 as Z,Z as q,p as z,i as G}from"./vendor.js";import{u as J}from"./useEmitter.js";import{u as K}from"./uiStore.js";import{M as Q,m as X,p as Y,a as ee,b as te,c as se,d as ae,e as ne,f as oe,g as re,i as ie,h as le}from"./index2.js";import{W as ue}from"./WaveLoading.js";import{_ as F}from"./PlaceholderBlock.vue_vue_type_script_setup_true_lang.js";import{_ as ce}from"./_plugin-vue_export-helper.js";const de=["innerHTML"],fe=B({__name:"Markdownworker",props:{source:null,i18n:{type:Boolean,default:!1},fallbackLocale:{default:"en"},finalFallbackFn:{type:Function,default:()=>{}},includeFileExtension:{type:Boolean,default:!0},fileExtension:{default:".md"},redirectTo404:{type:Boolean,default:!1}},setup(u){const t=u,k=O(),a=J(),w=K(),s=new Q({html:!0,xhtmlOut:!0,breaks:!0,linkify:!0,typographer:!0}).use(X).use(Y).use(ee).use(te).use(se).use(ae).use(ne).use(oe).use(re).use(ie).use(le),r=p(!0),i=p(!1),l=p(""),$=p(""),V=m(()=>t.i18n?`.${w.locale}`:""),M=m(()=>t.i18n?`.${t.fallbackLocale}`:""),g=m(()=>t.includeFileExtension?t.fileExtension:""),j=m(()=>l.value),P=m(()=>s.render(j.value)),C=async(c,e)=>{$.value=c,r.value=!0,i.value=!1;let x=!1;if(c.length===0)l.value="",r.value=!1,i.value=!1;else{!e||e.length===0?e=V.value:e.startsWith(".")||(e=`.${e}`);const y=`/content/${c}`;try{const _=await fetch(y+e+g.value);_.ok?(l.value=await _.text(),i.value=!0):(!e||e.length===0?e=M.value:e.startsWith(".")||(e=`.${e}`),(await fetch(y+e+g.value)).ok?(l.value=await _.text(),i.value=!0):(l.value="",i.value=!1,x=!0))}catch(_){!e||e.length===0?e=M.value:e.startsWith(".")||(e=`.${e}`);const b=await fetch(y+e+g.value);b.ok?(l.value=await b.text(),i.value=!0):(l.value="",i.value=!1,x=!0)}finally{r.value=!1,x&&(t.finalFallbackFn(),t.redirectTo404&&await k.replace("/404"))}}};return E(async()=>{a.on("toChangeLocale",async c=>{if(!t.i18n)return;const e=c;await C(t.source,e.locale)}),await C(t.source)}),A(()=>{a.off("toChangeLocale")}),(c,e)=>(d(),f(I,null,[S(n(ue,null,null,512),[[T,r.value]]),S((d(),f("div",{innerHTML:D(P),class:"markdown-body",key:$.value},null,8,de)),[[T,!r.value]])],64))}}),me=u=>(z("data-v-0d11d58a"),u=u(),G(),u),_e={class:"pmc-intro"},pe={class:"xl:flex xlï¼šjustify-between"},he=me(()=>o("div",{class:"xl:flex-none xl:w-72 xl:order-last"},null,-1)),ve={class:"xl:flex-1 overflow-hidden"},ke={class:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 gap-4 p-5"},we=["title"],ge={key:0,class:"director"},xe={class:"uppercase"},ye=["src","alt"],be={class:"inline-block p-3"},Le=B({__name:"ProjectManagementCommitteeView",setup(u){H("pmc","i18n");const t=R([]),k=async()=>(await W(()=>import("./pmc.js"),[])).people;return E(()=>{k().then(a=>{t.splice(0,t.length,...a)})}),(a,w)=>(d(),f(I,null,[n(L,null,{default:h(()=>[n(N,{"is-font-black":!1,"is-font-bold":!0},{default:h(()=>[U(v(a.$t("pmc")),1)]),_:1}),o("div",_e,v(a.$t("pmc-intro")),1)]),_:1}),n(L,{class:"markdown-toc-right"},{default:h(()=>[o("div",pe,[he,o("div",ve,[n(fe,{source:"people/pmc",i18n:!0})])])]),_:1}),n(F,{height:"1.25rem"}),n(L,null,{default:h(()=>[n(F,{height:"20px"}),o("div",ke,[(d(!0),f(I,null,Z(t.filter(s=>s["during-in-term"]).sort((s,r)=>s.id.localeCompare(r.id)),s=>(d(),f("div",{key:s.id,title:s.name,class:"text-center relative cursor-pointer"},[s.director?(d(),f("div",ge,[o("span",xe,v(a.$t("pmc-director")),1)])):q("",!0),o("img",{src:`/images/people/${s.avatar}`,alt:s.name,class:"w-24 h-24 rounded-full mx-auto"},null,8,ye),o("span",be,v(s.name),1)],8,we))),128))])]),_:1}),n(F,{height:"100px"})],64))}});const je=ce(Le,[["__scopeId","data-v-0d11d58a"]]);export{je as default};

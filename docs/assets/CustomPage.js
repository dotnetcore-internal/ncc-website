import{d as v,k as a,x as P,n as k,y as $,a as _,f as i,g as j,F as B,a7 as C,o as g,e as h,u as m,Z as y,M}from"./vendor.js";import{u as N}from"./useEmitter.js";import{u as w}from"./projectStore.js";import{B as F}from"./BodyBlock.js";import{_ as b}from"./PlaceholderBlock.vue_vue_type_script_setup_true_lang.js";import{_ as R}from"./MarkdownBlock.vue_vue_type_script_setup_true_lang.js";import"./_plugin-vue_export-helper.js";import"./uiStore.js";import"./WaveLoading.js";const S=(r,s)=>{const n=s-r,t=Math.random();return r+Math.round(t*n)},V={class:"xl:flex xlï¼šjustify-between"},E=h("div",{class:"xl:flex-none xl:w-72 xl:order-last"},null,-1),L={key:0,class:"xl:flex-1"},H=v({__name:"CustomPage",setup(r){const s=M(),n=C(),t=N(),x=w(),c=S(1,1e5),l=a(()=>{const e=s.params.customName,o=x.currentProjectProfile.modules;if(!o)return null;const f=o[e];return f||null}),u=a(()=>{const e=l.value;if(!e)return!1;const o=e.file;return o?o.length>0:!1}),d=a(()=>u.value?s.params.id+"/"+l.value.file:""),p=a(()=>{if(u.value){const e=l.value.scope;return!e||e.length===0?"projects":e}else return"projects"});return P(()=>{t.on("toChangeLocale",async e=>{const o=e;t.emit("toRerenderMarkdown",{source:`/articles/${p.value}/${d.value}`,locale:o.locale})}),t.on(`toBind404Page${c}`,e=>{const o=e;n.push({path:`/projects/${o.akaId}/paper-not-found`})}),k(()=>{t.emit("toChangeProjectPaper",{paper:s.params.customName,broadcast:c})})}),$(()=>{t.off(`toBind404Page${c}`),t.off("toChangeLocale")}),(e,o)=>(g(),_(B,null,[i(F,{class:"content-paper markdown-toc-right"},{default:j(()=>[h("div",V,[E,m(u)?(g(),_("div",L,[i(R,{source:`/articles/${m(p)}/${m(d)}`,i18n:!0,"fallback-locale":"en"},null,8,["source"])])):y("",!0)])]),_:1}),i(b,{height:"20px"})],64))}});export{H as default};

import{u as F}from"./useEmitter.js";import{u as T}from"./projectStore.js";import{B as b}from"./BodyBlock.js";import{a3 as C,g as t,d as I,j as O,a0 as q,k as g,u as i,z as W,h as v,Z as P,o as n,f as s,t as u,a as r,b as w,a1 as j,F as x,p as G,i as J,l as y,x as R,m as B,v as H,e as K,n as Q}from"./vendor.js";import{e as X}from"./useProjectToolkits.js";import{_ as M}from"./AnchorElement.vue_vue_type_script_setup_true_lang.js";import{_ as U}from"./_plugin-vue_export-helper.js";import{W as Y}from"./WaveLoading.js";import{_ as ee}from"./PlaceholderBlock.vue_vue_type_script_setup_true_lang.js";import"./useResource.js";import"./axios.js";import"./usePageToolkits.js";const te=C("balance-two",!1,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M16 22L10 12L4 22",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 28C13.3137 28 16 25.3137 16 22H4C4 25.3137 6.68629 28 10 28Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M44 22L38 12L32 22",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M38 28C41.3137 28 44 25.3137 44 22H32C32 25.3137 34.6863 28 38 28Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M24 6V42",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M10 12H24H38",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M10 12H24H38",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M38 42H24H10",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),le=C("correct",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 24L9 19L19 29L39 9L44 14L19 39L4 24Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),se=C("error",!1,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 11L11 6L24 19L37 6L42 11L29 24L42 37L37 42L24 29L11 42L6 37L19 24L6 11Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),ie=C("info",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M24 44C29.5228 44 34.5228 41.7614 38.1421 38.1421C41.7614 34.5228 44 29.5228 44 24C44 18.4772 41.7614 13.4772 38.1421 9.85786C34.5228 6.23858 29.5228 4 24 4C18.4772 4 13.4772 6.23858 9.85786 9.85786C6.23858 13.4772 4 18.4772 4 24C4 29.5228 6.23858 34.5228 9.85786 38.1421C13.4772 41.7614 18.4772 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 11C25.3807 11 26.5 12.1193 26.5 13.5C26.5 14.8807 25.3807 16 24 16C22.6193 16 21.5 14.8807 21.5 13.5C21.5 12.1193 22.6193 11 24 11Z",fill:e.colors[2]},null),t("path",{d:"M24.5 34V20H23.5H22.5",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M21 34H28",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),ne=C("pound",!1,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M6 16H42",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M16 6L16 42",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M32 6V42",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M6 32H42",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),oe="/images/orgs/osi.png",$=e=>(G("data-v-9082d335"),e=e(),J(),e),ae={class:"grid grid-cols-5 gap-4 p-5 cursor-default"},re={class:"col-span-2"},ce={class:"flex"},de={class:"flex-none"},ue={class:"flex-1"},ke={class:"text-2xl inline-block align-middle px-3"},he={key:0,class:"align-middle inline-block"},fe=$(()=>s("img",{src:oe,alt:"OSI Approved",class:"w-5"},null,-1)),_e={class:"text-xs text-gray-500 p-3 pl-0"},ve={class:"align-middle inline-block"},Le={class:"license-terms"},me=$(()=>s("span",{class:"title"},"Permissions",-1)),we={class:"license-terms"},ge=$(()=>s("span",{class:"title"},"Limitations",-1)),je={class:"license-terms"},xe=$(()=>s("span",{class:"title"},"Conditions",-1)),ye=I({__name:"LicenseBlock",props:{license:{default:""}},setup(e){const L=e,f=O(),a=q([]);X(o=>{a.length=0;for(const h of o)a.push(h)});const c=g(()=>!!L.license&&L.license.length>0),l=g(()=>a.find(o=>o.id===L.license)),d=g(()=>f.value?"#f8f8f8":"#000000");return(o,h)=>i(c)?(n(),W(b,{key:0,class:"license-block"},{default:v(()=>{var k,z,S,p,A,N,V,Z;return[s("div",ae,[s("div",re,[s("div",ce,[s("div",de,[t(i(te),{class:"inline-block align-middle",theme:"filled",size:"28",fill:i(d),strokeWidth:2},null,8,["fill"])]),s("div",ue,[s("span",ke,u((k=i(l))==null?void 0:k.name),1),(z=i(l))!=null&&z["osi-approved"]?(n(),r("span",he,[t(M,{href:(S=i(l))==null?void 0:S["osi-link"],target:"_blank",title:"OSI Approved",mode:"classic"},{default:v(()=>[fe]),_:1},8,["href"])])):P("",!0)])]),s("div",_e,[w(u((p=i(l))==null?void 0:p.description)+" ",1),s("span",ve,[t(M,{href:(A=i(l))==null?void 0:A["def-link"],target:"_blank",title:"License Definition",mode:"classic"},{default:v(()=>[t(i(ne),{theme:"filled",size:"14",fill:"#9013fe",strokeWidth:2})]),_:1},8,["href"])])])]),s("div",Le,[me,s("ul",null,[(n(!0),r(x,null,j((N=i(l))==null?void 0:N.permissions,m=>(n(),r("li",{key:m,class:"permission"},[t(i(le),{class:"inline-block align-middle",theme:"filled",size:"12",fill:"#9013fe",strokeWidth:2}),w(" "+u(m),1)]))),128))])]),s("div",we,[ge,s("ul",null,[(n(!0),r(x,null,j((V=i(l))==null?void 0:V.limitations,m=>(n(),r("li",{key:m,class:"limitation"},[t(i(se),{class:"inline-block align-middle",theme:"filled",size:"12",fill:"#9013fe",strokeWidth:2}),w(" "+u(m),1)]))),128))])]),s("div",je,[xe,s("ul",null,[(n(!0),r(x,null,j((Z=i(l))==null?void 0:Z.conditions,m=>(n(),r("li",{key:m,class:"condition"},[t(i(ie),{class:"inline-block align-middle",theme:"filled",size:"12",fill:"#9013fe",strokeWidth:2}),w(" "+u(m),1)]))),128))])])])]}),_:1})):P("",!0)}});const E=U(ye,[["__scopeId","data-v-9082d335"]]),be={class:"raw-pre"},Ce={class:"bg-gradient-to-b from-transparent to-white dark:to-black absolute bottom-0 left-0 w-full h-32"},We=["title"],Me={class:"bg-black text-white dark:bg-white/50 dark:text-black text-xs px-4 py-0.5 rounded-xl"},$e=I({__name:"LicenseRaw",props:{rawUrl:{default:""}},setup(e){const L=e,f=y(!0),a=y(!1),_=y(!1),c=y(""),l=y(!1),d=()=>{l.value=!l.value},o=()=>{l.value=!0},h=async()=>{if(f.value=!0,a.value=!1,_.value=!1,L.rawUrl.length===0)c.value="No license file",f.value=!1,a.value=!1,_.value=!0;else try{const k=await fetch(L.rawUrl);k.ok?(c.value=await k.text(),a.value=!0):(c.value="Error loading license file",a.value=!1)}catch(k){c.value="Error loading license file",a.value=!1}finally{f.value=!1}};return R(async()=>{await h()}),(k,z)=>f.value?(n(),W(Y,{key:0})):(n(),r("div",{key:1,class:K(["raw-wrap relative overflow-hidden",{"raw-large":l.value,"raw-small":!l.value}])},[s("pre",be,u(c.value),1),B(s("div",Ce,null,512),[[H,!l.value&&!_.value&&a.value]]),B(s("div",{class:"absolute bottom-5 w-full text-center cursor-default",onClick:o,title:k.$t("show-more")},[s("span",Me,u(k.$t("show-more")),1)],8,We),[[H,!l.value&&!_.value&&a.value]]),B(s("div",{class:"text-xs absolute top-5 right-5 z-50 cursor-default",onClick:d},u(l.value?k.$t("collapse"):k.$t("expand")),513),[[H,!_.value&&a.value]]),a.value?P("",!0):(n(),r("div",{key:0,class:"text-xs absolute top-5 right-5 z-50 cursor-default",onClick:h},u(k.$t("reload-license")),1))],2))}});const D=U($e,[["__scopeId","data-v-ff5347a1"]]),ze={key:0,class:"content-paper p-5"},Be=s("p",{class:"text-center"},"No License",-1),He=[Be],Pe={key:1},Ie={key:2},Se={class:"list-disc list-inside"},qe=I({__name:"LicensePage",setup(e){const L=F(),f=T(),a=g(()=>{var d;const l=(d=f.currentProjectMetadata)==null?void 0:d.license;return l?Array.isArray(l)?l.length:1:0}),_=g(()=>{var d;const l=(d=f.currentProjectMetadata)==null?void 0:d.license;return Array.isArray(l)?l.map(o=>o.name):typeof l=="object"?l.name:""}),c=g(()=>{var d;const l=(d=f.currentProjectMetadata)==null?void 0:d.license;return Array.isArray(l)?l.map(o=>o.file):typeof l=="object"?l.file:""});return R(()=>{Q(()=>{L.emit("toChangeProjectPaper",{paper:"license"})})}),(l,d)=>i(a)===0?(n(),r("div",ze,He)):i(a)===1?(n(),r("div",Pe,[t(E,{license:i(_)},null,8,["license"]),t(b,{class:"content-paper"},{default:v(()=>[s("p",null,u(l.$t("raw-license-content")),1),t(M,{class:"underline hover:underline underline-offset-2 text-blue-500",href:i(c),target:"_blank",title:"Raw License Content",mode:"classic"},{default:v(()=>[w(u(i(c)),1)]),_:1},8,["href"])]),_:1}),t(b,{class:"content-paper p-0 overflow-hidden"},{default:v(()=>[t(D,{"raw-url":i(c)},null,8,["raw-url"])]),_:1})])):(n(),r("div",Ie,[(n(!0),r(x,null,j(i(_),(o,h)=>(n(),W(E,{key:h,license:o},null,8,["license"]))),128)),t(b,{class:"content-paper p-5"},{default:v(()=>[s("p",null,u(l.$t("raw-license-content")),1),s("ul",Se,[(n(!0),r(x,null,j(i(c),(o,h)=>(n(),r("li",{key:h},[t(M,{class:"underline hover:underline underline-offset-2 text-blue-500",href:o,target:"_blank",title:"Raw License Content",mode:"classic"},{default:v(()=>[w(u(o),1)]),_:2},1032,["href"])]))),128))])]),_:1}),(n(!0),r(x,null,j(i(c),(o,h)=>(n(),W(b,{key:h,class:"content-paper p-0 overflow-hidden"},{default:v(()=>[t(D,{"raw-url":o},null,8,["raw-url"])]),_:2},1024))),128)),t(ee,{height:"90px"})]))}});export{qe as default};
